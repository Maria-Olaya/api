<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8">
  <title th:text="#{arbitro.home.pageTitle}">Panel del Árbitro</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/css/globals.css">
  <link rel="stylesheet" href="/css/forms.css">
  <link rel="stylesheet" href="/css/arbitro.css">
  <link rel="stylesheet" href="/css/home.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/footer.css">
</head>
<body>
  <div th:replace="fragments/header :: header"></div>

  <main class="container my-5">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card p-4 shadow-sm rounded-3">
          <h2 class="mb-4 text-center" th:text="#{arbitro.home.h1}">Panel del Árbitro</h2>

          <div th:if="${msgCode}" class="alert alert-success mb-3"
               th:text="${#messages.msg(msgCode)}"></div>

          <div class="datos-arbitro d-flex align-items-center gap-3">

            <!-- Foto: un solo IMG -->
            <div class="mb-3">
              <img
                class="img-thumbnail"
                style="width:96px;height:96px;object-fit:cover;"
                th:src="${arbitro != null and arbitro.urlFoto != null and !#strings.isEmpty(arbitro.urlFoto)}
                         ? @{${arbitro.urlFoto}}
                         : @{/images/avatar-placeholder.svg}"
                th:alt="${arbitro != null and arbitro.urlFoto != null and !#strings.isEmpty(arbitro.urlFoto)}
                         ? #{arbitro.home.foto.alt}
                         : #{arbitro.home.foto.placeholderAlt}" />
            </div>

            <div>
              <h3 class="nombre-arbitro mb-1"
                  th:text="${arbitro != null ? (arbitro.nombre + ' ' + arbitro.apellido) : 'Nombre Apellido'}">
                Nombre Apellido
              </h3>

              <p class="mb-1">
                <strong th:text="#{arbitro.home.correo}">Correo:</strong>
                <span th:text="${arbitro != null ? arbitro.correo : 'correo@ejemplo.com'}">correo@ejemplo.com</span>
              </p>

              <p class="mb-1" th:if="${arbitro != null and not #strings.isEmpty(arbitro.especialidad)}">
                <strong th:text="#{arbitro.home.especialidad}">Especialidad:</strong>
                <span th:text="${arbitro.especialidad}">CAMPO</span>
              </p>

              <p class="mb-0" th:if="${arbitro != null and not #strings.isEmpty(arbitro.escalafon)}">
                <strong th:text="#{arbitro.home.escalafon}">Escalafón:</strong>
                <span th:text="${arbitro.escalafon}">FIBA</span>
              </p>

              <p class="text-muted small mt-2"
                 th:if="${arbitro == null or arbitro.urlFoto == null or #strings.isEmpty(arbitro.urlFoto)}"
                 th:text="#{arbitro.home.foto.vacia}">
                Aún no tienes foto de perfil.
              </p>
            </div>
          </div>

          <div class="fechas-panel mt-4 p-3 rounded-3 shadow-sm bg-light">
            <h4 class="text-success mb-3" th:text="#{arbitro.home.fechas.titulo}">Fechas disponibles</h4>

            <ul class="list-group lista-fechas-arbitro"
                th:if="${arbitro != null and arbitro.fechasDisponibles != null and !#lists.isEmpty(arbitro.fechasDisponibles)}">
              <li class="list-group-item rounded-pill mb-1 py-2"
                  th:each="f : ${arbitro.fechasDisponibles}"
                  th:text="${#temporals.format(f, 'dd/MM/yyyy')}">
                22/08/2025
              </li>
            </ul>

            <p th:if="${arbitro == null or arbitro.fechasDisponibles == null or #lists.isEmpty(arbitro.fechasDisponibles)}"
               class="text-muted" th:text="#{arbitro.home.fechas.vacio}">
              Aún no has configurado tus fechas disponibles.
            </p>
          </div>

        </div>
      </div>
    </div>
  </main>

  <div th:replace="fragments/footer :: footer"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
